(function(t){"use strict";t.swipeoutOpenedEl=void 0,t.swipeoutOpts=null,t.fn.swipeout=function(e){function o(e){t.swipeoutOpts.allowSwipeout&&(p=!1,a=!0,l=void 0,N.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,N.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,r=(new Date).getTime())}function s(e){if(a){var o="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if("undefined"==typeof l&&(l=!!(l||Math.abs(s-N.y)>Math.abs(o-N.x))),l)return void(a=!1);var n=this;if(p||(u=t(this),d=u.find(".swipeout-content"),w=u.find(".swipeout-actions-right"),h=u.find(".swipeout-actions-left"),c=g=O=E=y=b=null,M=h.hasClass("swipeout-actions-no-fold")||t.swipeoutOpts.swipeoutActionsNoFold,F=w.hasClass("swipeout-actions-no-fold")||t.swipeoutOpts.swipeoutActionsNoFold,h.length>0&&(c=h.outerWidth(),O=h.children("a"),b=h.find(".swipeout-overswipe")),w.length>0&&(g=w.outerWidth(),E=w.children("a"),y=w.find(".swipeout-overswipe")),m=u.hasClass("swipeout-opened"),m&&(C=u.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),u.removeClass("transitioning"),t.swipeoutOpts.swipeoutNoFollow||(u.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),u.removeClass("swipeout-opened"))),p=!0,e.preventDefault(),f=o-N.x,v=f,m&&("right"===C?v-=g:v+=c),v>0&&0===h.length||0>v&&0===w.length){if(!m)return a=p=!1,d.transform(""),E&&E.length>0&&E.transform(""),void(O&&O.length>0&&O.transform(""));v=0}x=0>v?"to-left":v>0?"to-right":x?x:"to-left";var i,r,T;if(t.swipeoutOpts.swipeoutNoFollow)return m?("right"===C&&f>0&&t(n).swipeoutClose(),"left"===C&&0>f&&t(n).swipeoutClose()):(0>f&&w.length>0&&t(n).swipeoutOpen("right"),f>0&&h.length>0&&t(n).swipeoutOpen("left")),a=!1,void(p=!1);L=!1,_=!1;var W;if(w.length>0)for(T=v/g,-g>v&&(v=-g-Math.pow(-v-g,.8),y.length>0&&(_=!0)),i=0;i<E.length;i++)"undefined"==typeof E[i]._buttonOffset&&(E[i]._buttonOffset=E[i].offsetLeft),r=E[i]._buttonOffset,W=t(E[i]),y.length>0&&W.hasClass("swipeout-overswipe")&&(W.css({left:(_?-r:0)+"px"}),_?W.addClass("swipeout-overswipe-active"):W.removeClass("swipeout-overswipe-active")),W.transform("translate3d("+(v-r*(1+Math.max(T,-1)))+"px,0,0)");if(h.length>0)for(T=v/c,v>c&&(v=c+Math.pow(v-c,.8),b.length>0&&(L=!0)),i=0;i<O.length;i++)"undefined"==typeof O[i]._buttonOffset&&(O[i]._buttonOffset=c-O[i].offsetLeft-O[i].offsetWidth),r=O[i]._buttonOffset,W=t(O[i]),b.length>0&&W.hasClass("swipeout-overswipe")&&(W.css({left:(L?r:0)+"px"}),L?W.addClass("swipeout-overswipe-active"):W.removeClass("swipeout-overswipe-active")),O.length>1&&W.css("z-index",O.length-i),W.transform("translate3d("+(v+r*(1-Math.min(T,1)))+"px,0,0)");d.transform("translate3d("+v+"px,0,0)")}}function n(e){if(!a||!p)return a=!1,void(p=!1);a=!1,p=!1;var o,s,n,i,l,C,b=(new Date).getTime()-r;if(C="to-left"===x?F:M,n="to-left"===x?w:h,s="to-left"===x?g:c,o=300>b&&(-10>f&&"to-left"===x||f>10&&"to-right"===x)||b>=300&&Math.abs(v)>s/2?"open":"close",300>b&&(0===Math.abs(v)&&(o="close"),Math.abs(v)===s&&(o="open")),"open"===o){t.swipeoutOpenedEl=u,u.trigger("open"),u.addClass("swipeout-opened transitioning");var y="to-left"===x?-s:s;if(d.transform("translate3d("+y+"px,0,0)"),n.addClass("swipeout-actions-opened"),i="to-left"===x?E:O)for(l=0;l<i.length;l++)t(i[l]).transform("translate3d("+y+"px,0,0)");_&&w.find(".swipeout-overswipe")[0].click(),L&&h.find(".swipeout-overswipe")[0].click()}else u.trigger("close"),t.swipeoutOpenedEl=void 0,u.addClass("transitioning").removeClass("swipeout-opened"),d.transform(""),n.removeClass("swipeout-actions-opened");var N;if(O&&O.length>0&&O!==i)for(l=0;l<O.length;l++)N=O[l]._buttonOffset,"undefined"==typeof N&&(O[l]._buttonOffset=c-O[l].offsetLeft-O[l].offsetWidth),t(O[l]).transform("translate3d("+N+"px,0,0)");if(E&&E.length>0&&E!==i)for(l=0;l<E.length;l++)N=E[l]._buttonOffset,"undefined"==typeof N&&(E[l]._buttonOffset=E[l].offsetLeft),t(E[l]).transform("translate3d("+-N+"px,0,0)");d.transitionEnd(function(t){m&&"open"===o||closed&&"close"===o||(u.trigger("open"===o?"opened":"closed"),m&&"close"===o&&(w.length>0&&E.transform(""),h.length>0&&O.transform("")))})}var i={allowSwipeout:!0,swipeoutActionsNoFold:!1,swipeoutNoFollow:!1};t.swipeoutOpts=t.extend(!0,i,e);var a,p,l,r,f,u,d,w,h,c,g,v,m,C,O,E,x,b,y,L,_,M,F,N={};t(document).on(t.touchEvents.start,function(e){if(t.swipeoutOpenedEl){var o=t(e.target);t.swipeoutOpenedEl.is(o[0])||o.parents(".swipeout").is(t.swipeoutOpenedEl)||(o.hasClass("swipeout-delete")?t.swipeoutOpenedEl.swipeoutDelete():o.hasClass("swipeout-more")?(t.swipeoutOpenedEl.trigger("more"),t.swipeoutOpenedEl.swipeoutClose()):t.swipeoutOpenedEl.swipeoutClose())}}),u?(t(u).on(t.touchEvents.start,o),t(u).on(t.touchEvents.move,s),t(u).on(t.touchEvents.end,n)):(t(document).on(t.touchEvents.start,".list-block li.swipeout",o),t(document).on(t.touchEvents.move,".list-block li.swipeout",s),t(document).on(t.touchEvents.end,".list-block li.swipeout",n))},t.fn.swipeoutOpen=function(e,o){var s=t(this);if(2===arguments.length&&"function"==typeof arguments[1]&&(o=e),0!==s.length&&(s.length>1&&(s=t(s[0])),s.hasClass("swipeout")&&!s.hasClass("swipeout-opened"))){e||(e=s.find(".swipeout-actions-right").length>0?"right":"left");var n=s.find(".swipeout-actions-"+e);if(0!==n.length){n.hasClass("swipeout-actions-no-fold")||t.swipeoutOpts.swipeoutActionsNoFold;s.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),n.addClass("swipeout-actions-opened");var i,a=n.children("a"),p=n.outerWidth(),l="right"===e?-p:p;if(a.length>1){for(i=0;i<a.length;i++)"right"===e?t(a[i]).transform("translate3d("+-a[i].offsetLeft+"px,0,0)"):t(a[i]).css("z-index",a.length-i).transform("translate3d("+(p-a[i].offsetWidth-a[i].offsetLeft)+"px,0,0)");a[1].clientLeft}for(s.addClass("transitioning"),i=0;i<a.length;i++)t(a[i]).transform("translate3d("+l+"px,0,0)");s.find(".swipeout-content").transform("translate3d("+l+"px,0,0)").transitionEnd(function(){s.trigger("opened"),o&&o.call(s[0])}),t.swipeoutOpenedEl=s}}},t.fn.swipeoutClose=function(e){function o(){t.swipeoutOpts.allowSwipeout=!0,s.hasClass("swipeout-opened")||(s.removeClass("transitioning"),a.transform(""),s.trigger("closed"),e&&e.call(s[0]),l&&clearTimeout(l))}var s=t(this);if(0!==s.length&&s.hasClass("swipeout-opened")){var n=s.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",i=s.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),a=(i.hasClass("swipeout-actions-no-fold")||t.swipeoutOpts.swipeoutActionsNoFold,i.children("a")),p=i.outerWidth();t.swipeoutOpts.allowSwipeout=!1,s.trigger("close"),s.removeClass("swipeout-opened").addClass("transitioning");var l;s.find(".swipeout-content").transform("").transitionEnd(o),l=setTimeout(o,500);for(var r=0;r<a.length;r++)"right"===n?t(a[r]).transform("translate3d("+-a[r].offsetLeft+"px,0,0)"):t(a[r]).transform("translate3d("+(p-a[r].offsetWidth-a[r].offsetLeft)+"px,0,0)"),t(a[r]).css({left:"0px"}).removeClass("swipeout-overswipe-active");t.swipeoutOpenedEl&&t.swipeoutOpenedEl[0]===s[0]&&(t.swipeoutOpenedEl=void 0)}},t.fn.swipeoutDelete=function(e){var o=t(this);if(0!==o.length){o.length>1&&(o=t(o[0])),t.swipeoutOpenedEl=void 0,o.trigger("delete"),o.css({height:o.outerHeight()+"px"});o[0].clientLeft;o.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){o.trigger("deleted"),e&&e.call(o[0]),o.remove()});var s="-100%";o.find(".swipeout-content").transform("translate3d("+s+",0,0)")}}}).call(this,Xframework);